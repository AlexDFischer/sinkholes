<!DOCTYPE html>
<head>
    <title>Find sinkholes</title>
    <link href="style.css" rel="stylesheet">
</head>
<body>
    <h1>Automatically detect sinkholes: step-by-step instructions</h1>
    <p>This program takes in 1 meter digital elevation models (DEM's) made from lidar data that the US Geological Survey publishes, and processes the data to automatically detect sinkholes. It exports the sinkholes to a GeoJSON file that contains all the sinkholes as waypoints color-coded by depth, that can be imported into mapping applications such as GaiaGPS, CalTopo, and Google Earth. It also exports a GeoTIFF map file that has a hillshade map with the sinkholes highlighted and colorcoded by depth.</p>

    <p>This program detects sinkholes by looking for local minima in the landscape, where water cannot drain away. It uses the <a href="https://doi.org/10.1016/j.cageo.2013.04.024">Priority-Flood algorithm from Barnes, Lehman, Mulla 2014</a>. Specifically it uses the <a href="https://doi.org/10.1016/j.cageo.2016.02.021">efficient implementation from Zhou, Sun, Fu 2016</a>.</p>

    <h2>Setup the script/install dependencies</h2>

    First, you need to install the <a href="https://gdal.org">GDAL library</a>. They have installation instructions on <a href="https://gdal.org/download.html">their download page</a>. Make sure you have version >=3.9.0 installed. You can test this by running <span class="code">gdalinfo --version</span>. If you have Anaconda installed, you can install the right version of GDAL with <span class="code">conda install conda-forge/label/main::libgdal
    </span>.

    Next, install the required python packages in <span class="code">requirements.txt</span>. You can do this using pip via <span class="code">pip install -r requirements.txt</span>. Now you're ready to use the script that is at <span class="code">sinkholes.py</span>.

    <h2>Acquire the data</h2>

    <p>Now you have to get the LIDAR data for the area you're interested in from the USGS. The USGS publishes this data in 10 km by 10 km squares. The data is available for much of the US, and the USGS plans to gather this data for the entire US eventually.</p>
        
    <p>To find the lidar data for the area you're interested in, go to the USGS's <a href="https://apps.nationalmap.gov/downloader/">GIS Data Download</a> page. Check the "Elevation Products (3DEP) option on the left:</p>

    <img src="stepByStep_start.png" class="stepByStepImg" />

    <p>Then check the "1 meter DEM" option, and uncheck all other options. Then click "Show Availability" at the bottom:</p>

    <img src="stepByStep_1mDEM.png" class="stepByStepImg" />

    <p>After you click "Show Availability", the map on the right will be shaded dark where 1 meter DEM data is available:</p>
    
    <img src="stepByStep_availability.png" class="stepByStepImg" />

    <p>Zoom in on the area you're interested in, making sure that 1 meter DEM data is available for that area. Then click "Search Products" in the upper left corner:</p>
    
    <img src="stepByStep_searchProducts.png" class="stepByStepImg" />

    <p>The page will then list the 1 meter DEM files available for download in the area you zoomed in on. Hovering over an option on the left will highlight the area it covers on the map on the right. If there are too many options, keep in mind that each file covers a 10 km by 10 km square, and zoom in if necessary to narrow down the area you're searching. Click "Download Link (TIF)" for the option(s) you want to download the GeoTIFF file with the 1 meter DEM data:</p>
    
    <img src="stepByStep_download.png" class="stepByStepImg" />

    <h2>Run the script</h2>

    <p>You can execute the script with the following command: TODO</p>
</body>